{% macro eachOption(value, choices, parent, level=0) -%}
  {% for r in choices -%}
    {% if r.parent == parent %}
      <option value="{{r.value}}"
        {%- if r.value|string == value %} selected{% endif -%}
        {%- if r.disabled %} disabled{% endif -%}
      >{% for i in range(0, level) %}ã€€{% endfor %}{{r.label}}</option>
      {{- eachOption(value, choices, r.value, level+1) -}}
    {%- endif %}
  {%- endfor %}
{%- endmacro %}

{%- include './label.inc.html.njk' %}
{%- set __v = '' if value === undefined else value|string -%}
<div class="zenfrom-layout">
  <select name="{{name}}" id="form_{{name}}">
    {% if not field.required %}
      <option></option>
    {% endif %}
    {{- eachOption(__v, field.choices)}}
  </select>
</div>